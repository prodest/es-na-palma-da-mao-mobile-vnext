const fs = require('fs-extra');
const package = require('../package.json');

const exclude = [
  'cordova-android-play-services-gradle-release',
  'cordova-android-support-gradle-release',
  'cordova-plugin-ionic'
];
// const includeDependencies = ['es6-promise-plugin', 'cordova-support-google-services', 'phonegap-plugin-multidex'];

const plugins = [];

for (key in package.cordova.plugins) {
  if (exclude.find(p => p == key)) {
    continue;
  }
  plugins.push(key);
}

plugins.forEach(p => {
  console.log('Copying ' + p);
  fs.copySync('node_modules/' + p, 'plugins/' + p, { overwrite: false });
});
